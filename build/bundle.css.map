{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\Form.svelte",
    "..\\..\\Table.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import Form from './Form.svelte';\n    import Table from './Table.svelte';\n\n    let id, material, price;\n\n    function edit(event) {\n        ({ id, material, price } = event.detail);\n    }\n</script>\n\n<main>\n    <h1>Оценщик проекта</h1>\n    <Form bind:id bind:material bind:price />\n    <Table on:edit={edit} />\n</main>\n\n<style>\n    main {\n        flex: 1;\n        align-content: center;\n        justify-content: center;\n        width: 80%;\n        margin: 0 auto;\n    }\n</style>\n",
    "<script>\n    import materialStore from './material.store.js';\n\n    export let id;\n    export let material;\n    export let price;\n\n    $: editMode = id != null;\n    $: buttonText = editMode ? 'Изменить' : 'Добавить';\n\n    $: canSubmit = material !== '' && price >= 0;\n\n    function onSubmit() {\n        if (!canSubmit) {\n            return;\n        }\n\n        if (!editMode) {\n            materialStore.add(material, price);\n        } else {\n            materialStore.edit(id, material, price);\n        }\n\n        cancel();\n    }\n\n    function cancel() {\n        material = '';\n        price = undefined;\n        id = null;\n    }\n</script>\n\n<form on:submit|preventDefault={onSubmit}>\n    <fieldset>\n        <label for=\"material\">Материал</label>\n        <input\n            bind:value={material}\n            type=\"text\"\n            id=\"material\"\n            placeholder=\"Дерево, краска и др.\" />\n        <label for=\"price\">Стоимость</label>\n        <input\n            bind:value={price}\n            type=\"number\"\n            id=\"price\"\n            placeholder=\"Стоимость в рублях\"\n            min=\"0\"\n            step=\"any\" />\n    </fieldset>\n    <button disabled={!canSubmit} class=\"float-right\" type=\"submit\">\n        {buttonText}\n    </button>\n\n    {#if editMode}\n        <button on:click={cancel} class=\"float-right\" type=\"button\">\n            Отменить\n        </button>\n    {/if}\n</form>\n\n<style>\n    button {\n        margin-left: 20px;\n    }\n\n    button:disabled {\n        cursor: not-allowed;\n    }\n</style>\n",
    "<script>\n    import { createEventDispatcher } from 'svelte';\n    import materialStore from './material.store.js';\n\n    const dispatch = createEventDispatcher();\n    let materials = [];\n\n    $: total = materials.reduce((acc, curr) => {\n        acc += curr.price;\n        return acc;\n    }, 0);\n\n    materialStore.subscribe(items => {\n        materials = items;\n    });\n\n    const formatter = new Intl.NumberFormat('ru-RU', {\n        style: 'currency',\n        currency: 'RUB',\n    });\n\n    function edit(id, material, price) {\n        dispatch('edit', { id, material, price });\n    }\n\n    function remove(id) {\n        materialStore.remove(id);\n    }\n</script>\n\n<table class=\"primary\">\n    <thead>\n        <tr>\n            <th>Материал</th>\n            <th>Стоимость</th>\n            <th />\n        </tr>\n    </thead>\n    <tbody>\n        {#each materials as item (item.id)}\n            <tr\n                on:click={edit(item.id, item.material, item.price)}\n                class=\"pointable\">\n                <td>{item.material}</td>\n                <td>{formatter.format(item.price)}</td>\n                <td>\n                    <i\n                        on:click|stopPropagation={remove(item.id)}\n                        class=\"far fa-trash-alt\" />\n                </td>\n            </tr>\n        {/each}\n    </tbody>\n    <tfoot>\n        <tr>\n            <th>Итого:</th>\n            <th colspan=\"2\">{formatter.format(total)}</th>\n        </tr>\n    </tfoot>\n</table>\n\n<style>\n    table {\n        width: 100%;\n    }\n\n    .pointable {\n        cursor: pointer;\n    }\n</style>\n"
  ],
  "names": [],
  "mappings": "AAkBI,IAAI,cAAC,CAAC,AACF,IAAI,CAAE,CAAC,CACP,aAAa,CAAE,MAAM,CACrB,eAAe,CAAE,MAAM,CACvB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,CAAC,CAAC,IAAI,AAClB,CAAC;ACsCD,MAAM,eAAC,CAAC,AACJ,WAAW,CAAE,IAAI,AACrB,CAAC,AAED,qBAAM,SAAS,AAAC,CAAC,AACb,MAAM,CAAE,WAAW,AACvB,CAAC;ACND,KAAK,eAAC,CAAC,AACH,KAAK,CAAE,IAAI,AACf,CAAC,AAED,UAAU,eAAC,CAAC,AACR,MAAM,CAAE,OAAO,AACnB,CAAC"
}